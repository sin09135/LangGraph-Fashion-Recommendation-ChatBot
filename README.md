# AI íŒ¨ì…˜ ì¶”ì²œ ì±—ë´‡ (MCP í†µí•©)

AI ê¸°ë°˜ íŒ¨ì…˜ ìƒí’ˆ ì¶”ì²œ ì±—ë´‡ì…ë‹ˆë‹¤. ìì—°ì–´ ëŒ€í™”ë¥¼ í†µí•´ ê°œì¸í™”ëœ íŒ¨ì…˜ ì¶”ì²œì„ ì œê³µí•˜ë©°, ì´ë¯¸ì§€ ì—…ë¡œë“œ, í…ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ìƒ‰, ìœ ì‚¬ ìƒí’ˆ ì¶”ì²œ, ì½”ë””ë„¤ì´ì…˜ ì¶”ì²œ, ë¦¬ë·° ë¶„ì„ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

**ğŸ†• MCP(Model Context Protocol) í†µí•©**: ì´ì œ ëª¨ë“  ì¶”ì²œ ê¸°ëŠ¥ì´ í‘œì¤€í™”ëœ MCP ë„êµ¬ë¡œ ì œê³µë©ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### ğŸ’¬ **ìì—°ì–´ ëŒ€í™” ê¸°ë°˜ ì¶”ì²œ**
- "ë²„ë®¤ë‹¤ íŒ¬ì¸  4ë§Œì› ë¯¸ë§Œìœ¼ë¡œ ì¶”ì²œí•´ì¤˜"
- "1ë²ˆ ìƒí’ˆê³¼ ì½”ë””í•˜ê¸° ì¢‹ì€ ìƒí’ˆ ì¶”ì²œí•´ì¤˜"
- "ì´ ìƒí’ˆê³¼ ë¹„ìŠ·í•œ ìŠ¤íƒ€ì¼ ì¶”ì²œí•´ì¤˜"
- "1ë²ˆ ìƒí’ˆ ë¦¬ë·°ëŠ” ì–´ë•Œ?"

### ğŸ–¼ï¸ **ì´ë¯¸ì§€ ê¸°ë°˜ ê²€ìƒ‰**
- ì‚¬ì§„ ì—…ë¡œë“œë¡œ ìœ ì‚¬í•œ íŒ¨ì…˜ ìƒí’ˆ ê²€ìƒ‰
- CLIP ëª¨ë¸ì„ ì‚¬ìš©í•œ ì •í™•í•œ ì´ë¯¸ì§€ ë¶„ì„

### ğŸ¨ **ì½”ë””ë„¤ì´ì…˜ ì¶”ì²œ**
- íŠ¹ì • ìƒí’ˆê³¼ ì–´ìš¸ë¦¬ëŠ” ì¡°í•© ì¶”ì²œ
- ìŠ¤íƒ€ì¼, ê°€ê²©, ë¸Œëœë“œ í˜¸í™˜ì„± ê³ ë ¤

### ğŸ“Š **ë¦¬ë·° ë¶„ì„**
- ìƒí’ˆë³„ ë¦¬ë·° ìš”ì•½ ë° ë¶„ì„
- ì‚¬ìš©ì í‰ì  ê¸°ë°˜ ì¶”ì²œ

### â¤ï¸ **ê°œì¸í™” ê¸°ëŠ¥**
- ì¢‹ì•„í•˜ëŠ” ìƒí’ˆ ì €ì¥ ë° ê´€ë¦¬
- ê°œì¸ ì·¨í–¥ ê¸°ë°˜ ì¶”ì²œ

### ğŸ”§ **MCP ë„êµ¬ë“¤**
- `fashion_recommend` - ìƒí’ˆ ì¶”ì²œ
- `fashion_coordination` - ì½”ë””ë„¤ì´ì…˜ ì¶”ì²œ
- `fashion_similar_search` - ìœ ì‚¬ ìƒí’ˆ ê²€ìƒ‰
- `fashion_review_analysis` - ë¦¬ë·° ë¶„ì„
- `fashion_image_search` - ì´ë¯¸ì§€ ê¸°ë°˜ ê²€ìƒ‰
- `fashion_user_preferences` - ì‚¬ìš©ì ì„ í˜¸ë„ ê´€ë¦¬

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •
```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
export OPENAI_API_KEY=your_openai_api_key
export DATABASE_URL=postgresql://username:password@localhost:5432/fashion_db

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. ì‹¤í–‰ ë°©ë²•

#### ğŸ¯ **ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰ (ì¶”ì²œ)**
```bash
./run_all.sh
```
- MCP ì„œë²„, ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œë¥¼ ëª¨ë‘ ìë™ìœ¼ë¡œ ì‹¤í–‰
- í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§ ë° ìë™ ì¢…ë£Œ í¬í•¨

#### ğŸ”§ **ê°œë°œ ëª¨ë“œ ì‹¤í–‰**
```bash
./run_dev.sh
```
- í•„ìš”í•œ ì„œë¹„ìŠ¤ë§Œ ì„ íƒì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- ê°œë°œ ì¤‘ ìœ ìš©í•œ ì˜µì…˜ë“¤ ì œê³µ

#### ğŸ§ª **MCP í…ŒìŠ¤íŠ¸**
```bash
./test_mcp.sh
```
- MCP ì„œë²„ ì—°ê²° ë° ë„êµ¬ í…ŒìŠ¤íŠ¸
- ê° ê¸°ëŠ¥ë³„ ê°œë³„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

#### ğŸ“¦ **ê°œë³„ ì„œë¹„ìŠ¤ ì‹¤í–‰**
```bash
# MCP ì„œë²„ë§Œ ì‹¤í–‰
./run_mcp.sh

# ë°±ì—”ë“œë§Œ ì‹¤í–‰
./run_backend.sh

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ì‹¤í–‰
./run_frontend.sh
```

### 3. ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
```
http://localhost:3000
```

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### MCP í†µí•© ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   MCP Client    â”‚    â”‚   MCP Server    â”‚
â”‚   (React)       â”‚â—„â”€â”€â–ºâ”‚   (Python)      â”‚â—„â”€â”€â–ºâ”‚   (Python)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                        â”‚
                              â–¼                        â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   FastAPI       â”‚    â”‚   LangGraph     â”‚
                       â”‚   Backend       â”‚    â”‚   Nodes         â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### LangGraph ì›Œí¬í”Œë¡œìš°
```
ì‚¬ìš©ì ì…ë ¥ â†’ Intent Router â†’ íŠ¹í™” ë…¸ë“œ â†’ Output Node
```

#### **ì£¼ìš” ë…¸ë“œë“¤:**
- **`intent_router`**: ì‚¬ìš©ì ì˜ë„ ë¶„ì„ (ì¶”ì²œ/ì½”ë””/ìœ ì‚¬ìƒí’ˆ/ë¦¬ë·°/ì´ë¯¸ì§€)
- **`recommendation_generator`**: ì¼ë°˜ ìƒí’ˆ ì¶”ì²œ
- **`coordination_finder`**: ì½”ë””ë„¤ì´ì…˜ ì¶”ì²œ
- **`similar_product_finder`**: ìœ ì‚¬ ìƒí’ˆ ê²€ìƒ‰
- **`review_search_node`**: ë¦¬ë·° ê²€ìƒ‰ ë° ë¶„ì„
- **`image_similarity_search`**: ì´ë¯¸ì§€ ê¸°ë°˜ ê²€ìƒ‰
- **`conversation_agent`**: ì¼ë°˜ ëŒ€í™” ì²˜ë¦¬

### ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°
- **PostgreSQL**: ìƒí’ˆ ì •ë³´, ì‚¬ìš©ì ì„¸ì…˜, ì¢‹ì•„ìš” ê´€ë¦¬
- **ChromaDB**: ë¦¬ë·° ì„ë² ë”©, ì´ë¯¸ì§€ ì„ë² ë”© ë²¡í„° ì €ì¥

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
fashion_rec_system/
â”œâ”€â”€ backend/                 # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ main.py             # ì„œë²„ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ (MCP API í¬í•¨)
â”‚   â”œâ”€â”€ mcp_api.py          # MCP API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ nodes.py            # LangGraph ë…¸ë“œë“¤
â”‚   â”œâ”€â”€ config.py           # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ llm_service.py      # LLM ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ core/               # í•µì‹¬ ëª¨ë“ˆ
â”œâ”€â”€ frontend/               # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.js          # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ components/     # React ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚       â”œâ”€â”€ ChatInterface.js    # ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚       â”œâ”€â”€ MCPInterface.js    # MCP ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚       â”œâ”€â”€ ProductGrid.js      # ìƒí’ˆ ê·¸ë¦¬ë“œ
â”‚   â”‚       â”œâ”€â”€ LikedProductsView.js # ì¢‹ì•„ìš” ìƒí’ˆ ë³´ê¸°
â”‚   â”‚       â””â”€â”€ Header.js           # í—¤ë” ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ package.json        # Node.js ì˜ì¡´ì„±
â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
â”œâ”€â”€ chroma_db/             # ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤
â”œâ”€â”€ mcp_server.py          # MCP ì„œë²„ ë©”ì¸ íŒŒì¼
â”œâ”€â”€ mcp_client.py          # MCP í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ mcp_config.json        # MCP ì„¤ì • íŒŒì¼
â”œâ”€â”€ run_all.sh             # ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_dev.sh             # ê°œë°œ ëª¨ë“œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_mcp.sh             # MCP ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ test_mcp.sh            # MCP í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_backend.sh         # ë°±ì—”ë“œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_frontend.sh        # í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ requirements.txt        # Python ì˜ì¡´ì„±
â””â”€â”€ README.md              # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **FastAPI**: ì›¹ í”„ë ˆì„ì›Œí¬
- **LangGraph**: ëŒ€í™”í˜• AI ì›Œí¬í”Œë¡œìš°
- **MCP**: Model Context Protocol
- **OpenAI GPT**: ìì—°ì–´ ì²˜ë¦¬
- **CLIP**: ì´ë¯¸ì§€ ì„ë² ë”© ëª¨ë¸
- **PostgreSQL**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- **ChromaDB**: ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤
- **SQLAlchemy**: ORM

### í”„ë¡ íŠ¸ì—”ë“œ
- **React**: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- **Styled Components**: CSS-in-JS ìŠ¤íƒ€ì¼ë§
- **Lucide React**: ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

### 1. ì¼ë°˜ ìƒí’ˆ ì¶”ì²œ
```
ì‚¬ìš©ì: "ë²„ë®¤ë‹¤ íŒ¬ì¸  4ë§Œì› ë¯¸ë§Œìœ¼ë¡œ ì¶”ì²œí•´ì¤˜"
ì‹œìŠ¤í…œ: ë²„ë®¤ë‹¤ íŒ¬ì¸  ì¤‘ 4ë§Œì› ë¯¸ë§Œ ìƒí’ˆ 10ê°œ ì¶”ì²œ
```

### 2. ì½”ë””ë„¤ì´ì…˜ ì¶”ì²œ
```
ì‚¬ìš©ì: "1ë²ˆ ìƒí’ˆê³¼ ì½”ë””í•˜ê¸° ì¢‹ì€ ìƒí’ˆ ì¶”ì²œí•´ì¤˜"
ì‹œìŠ¤í…œ: 1ë²ˆ ìƒí’ˆê³¼ ì–´ìš¸ë¦¬ëŠ” ìƒì˜, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ ì¶”ì²œ
```

### 3. ìœ ì‚¬ ìƒí’ˆ ê²€ìƒ‰
```
ì‚¬ìš©ì: "ì´ ìƒí’ˆê³¼ ë¹„ìŠ·í•œ ìŠ¤íƒ€ì¼ ì¶”ì²œí•´ì¤˜"
ì‹œìŠ¤í…œ: ì´ë¯¸ì§€ë‚˜ ìƒí’ˆê³¼ ìœ ì‚¬í•œ ìŠ¤íƒ€ì¼ì˜ ë‹¤ë¥¸ ìƒí’ˆ ì¶”ì²œ
```

### 4. ë¦¬ë·° ë¶„ì„
```
ì‚¬ìš©ì: "1ë²ˆ ìƒí’ˆ ë¦¬ë·°ëŠ” ì–´ë•Œ?"
ì‹œìŠ¤í…œ: í•´ë‹¹ ìƒí’ˆì˜ ë¦¬ë·° ìš”ì•½ ë° í‰ì  ë¶„ì„ ì œê³µ
```

## ğŸ› ï¸ í™˜ê²½ ì„¤ì •

### 1. Python í™˜ê²½
```bash
# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source venv/bin/activate  # macOS/Linux
# ë˜ëŠ”
venv\Scripts\activate     # Windows

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. Node.js í™˜ê²½
```bash
# Node.js 16+ ì„¤ì¹˜ í•„ìš”
cd frontend
npm install
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env íŒŒì¼ ìƒì„±
OPENAI_API_KEY=your_openai_api_key
DATABASE_URL=postgresql://username:password@localhost:5432/fashion_db
```

## ğŸ“‹ API ì—”ë“œí¬ì¸íŠ¸

### ê¸°ì¡´ API
- `POST /chat`: ë©”ì¸ ì±„íŒ… ì—”ë“œí¬ì¸íŠ¸
- `POST /upload-image`: ì´ë¯¸ì§€ ì—…ë¡œë“œ
- `POST /like`: ìƒí’ˆ ì¢‹ì•„ìš” ì¶”ê°€
- `GET /likes/{session_id}`: ì¢‹ì•„ìš” ìƒí’ˆ ì¡°íšŒ
- `GET /session/{session_id}`: ì„¸ì…˜ ì •ë³´ ì¡°íšŒ
- `GET /health`: ì„œë²„ ìƒíƒœ í™•ì¸

### MCP API
- `GET /api/mcp/tools`: ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡
- `GET /api/mcp/resources`: ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ ëª©ë¡
- `POST /api/mcp/call-tool`: ë„êµ¬ í˜¸ì¶œ
- `GET /api/mcp/health`: MCP ì„œë²„ ìƒíƒœ í™•ì¸
- `WebSocket /api/mcp/ws`: ì‹¤ì‹œê°„ MCP í†µì‹ 

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# MCP í…ŒìŠ¤íŠ¸
./test_mcp.sh

# ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
cd backend
python -m pytest

# í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
cd frontend
npm test
```

## ğŸ”„ ê°œë°œ ì›Œí¬í”Œë¡œìš°

1. **MCP ë„êµ¬ ê°œë°œ**: `mcp_server.py`ì— ìƒˆë¡œìš´ ë„êµ¬ ì¶”ê°€
2. **ë°±ì—”ë“œ ê°œë°œ**: `backend/` í´ë”ì—ì„œ Python ì½”ë“œ ìˆ˜ì •
3. **í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ**: `frontend/` í´ë”ì—ì„œ React ì½”ë“œ ìˆ˜ì •
4. **LangGraph ë…¸ë“œ ì¶”ê°€**: `backend/nodes.py`ì— ìƒˆë¡œìš´ ë…¸ë“œ êµ¬í˜„
5. **í…ŒìŠ¤íŠ¸**: ê° ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
6. **ë°°í¬**: Gitì„ í†µí•œ ë²„ì „ ê´€ë¦¬

## ğŸš€ MCP í™•ì¥

### ìƒˆë¡œìš´ MCP ë„êµ¬ ì¶”ê°€
```python
# mcp_server.pyì— ë„êµ¬ ì •ì˜ ì¶”ê°€
Tool(
    name="fashion_new_tool",
    description="ìƒˆë¡œìš´ íŒ¨ì…˜ ë„êµ¬",
    inputSchema={
        "type": "object",
        "properties": {
            "param1": {"type": "string", "description": "ë§¤ê°œë³€ìˆ˜ 1"}
        },
        "required": ["param1"]
    }
)
```

### MCP í´ë¼ì´ì–¸íŠ¸ í™•ì¥
```python
# mcp_client.pyì— ë©”ì„œë“œ ì¶”ê°€
async def new_tool_method(self, **kwargs) -> str:
    request = FashionRecommendationRequest(
        tool_name="fashion_new_tool",
        arguments=kwargs,
        session_id="default"
    )
    return await self.call_tool(request)
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. ì´ ì €ì¥ì†Œë¥¼ í¬í¬í•©ë‹ˆë‹¤
2. ìƒˆë¡œìš´ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (`git checkout -b feature/amazing-feature`)
3. ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•©ë‹ˆë‹¤ (`git commit -m 'Add amazing feature'`)
4. ë¸Œëœì¹˜ì— í‘¸ì‹œí•©ë‹ˆë‹¤ (`git push origin feature/amazing-feature`)
5. Pull Requestë¥¼ ìƒì„±í•©ë‹ˆë‹¤

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ìˆê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”.

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [MCP ìƒì„¸ ë¬¸ì„œ](./MCP_README.md)
- [LangGraph êµ¬ì¡° ë¬¸ì„œ](./langgraph_structure.md)